{"version":3,"sources":["Gradienter.js"],"names":["define","skylark","langx","browser","noder","eventer","finder","$","colors","Color","ui","Widget","ColorPicker","Drag","fn","draggable","ele","document","getElementById","this","attr","style","top","init","gradX","Gradienter","id","_options","add_event","element","event","event_function","attachEvent","call","addEventListener","options","targets","sliders","direction","type","code_shown","change","styles","gradx","rand_RGB","rand_pos","slider_ids","slider_index","shape","slider_hovered","jQ_present","load_jQ","gx","el","evt","evt_func","get_random_position","pos","parseInt","Math","random","indexOf","push","get_random_rgb","R","G","B","color","update_target","values","length","i","j","len","v_len","css","apply_style","value","html","apply_default_styles","update_style_array","get_style_value","panel","offset","position","container_width","sort","A","style_str","suffix","get_rgb_obj","rgb","split","r","g","b","load_info","current_slider_id","left","show","set_colorpicker","console","log","add_slider","slider","k","delta","obj","append","containment","axis","start","drag","cp","colorPicker","click","clr","move","rgba","toRgbString","hide","flat","showAlpha","clickoutFiresChange","showInput","showButtons","generate_options","name","state","str","replace","generate_radial_options","generate_linear_options","destroy","load_gradx","me","gradient_size_val","option_str","container","remove","splice","focus","$this","select","mouseup","unbind","val","h","v","center","text","mixin"],"mappings":"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","file":"../Gradienter.js","sourcesContent":["define([\n   \"skylark-langx/skylark\",\n    \"skylark-langx/langx\",\n    \"skylark-utils/browser\",\n    \"skylark-utils/noder\",\n    \"skylark-utils/eventer\",\n    \"skylark-utils/finder\",\n    \"skylark-utils/query\",\n    \"skylark-utils-color/colors\",\n    \"skylark-utils-color/Color\",\n    \"skylark-ui-swt/ui\",\n    \"skylark-ui-swt/Widget\",\n    \"skylark-ui-colorpicker/ColorPicker\",\n    \"./Drag\"\n],function(skylark, langx, browser, noder, eventer,finder, $, colors, Color, ui, Widget,ColorPicker,Drag) {\n\n\n    /*\n     *\n     * SAMPLE USAGE DETAILS :\n     * \n     * sliders structure :\n     *\n     * [\n     *  {\n     *     color: \"COLOR\",\n     *     position: \"POSITION\" //0 to 100 without % symbol\n     *  },\n     *  {\n     *     ....\n     *     ....\n     *  },\n     *  ....\n     * ]\n     *\n     */\n\n    'use strict';\n\n    //make me jquery UI  independent\n    if (typeof $.fn.draggable === \"undefined\") {\n\n        $.fn.draggable = function() {\n            //console.log(this);\n            var ele = document.getElementById(this.attr(\"id\"));\n            ele.style.top = \"121px\";\n            Drag.init(ele, null, 26, 426, 86, 86);\n            return this;\n        };\n\n\n    }\n\n\n    var gradX = ui.Gradienter = function(id, _options) {\n\n\n        var options = {\n            targets: [], //[element selector] -> array\n            sliders: [],\n            direction: 'left',\n            //if linear left | top | right | bottom\n            //if radial left | center | right , top | center | bottom \n            type: 'linear', //linear | circle | ellipse\n            code_shown: false, //false | true\n            change: function(sliders, styles) {\n                //nothing to do here by default\n            }\n        },\n    \t\n        //make global\t\n        gradx = Drag.gradx = {\n            rand_RGB: [],\n            rand_pos: [],\n            id: null,\n            slider_ids: [],\n            slider_index: 0, //global index for sliders\n            sliders: [], //contains styles of each slider\n            direction: \"left\", //direction of gradient or position of centre in case of radial gradients\n            type: \"linear\", //linear or radial\n            shape: \"cover\", //radial gradient size\n            slider_hovered: [],\n            jQ_present: true,\n            code_shown: false,\n            load_jQ: function() {\n\n                //handle any library conflicts here\n                this.gx = $;\n            },\n            //very lazy to replace this by jQuery\n            add_event: function(el, evt, evt_func) {\n                add_event(el, evt, evt_func);\n            },\n            get_random_position: function() {\n                var pos;\n\n                do {\n                    pos = parseInt(Math.random() * 100);\n                }\n                while (this.rand_pos.indexOf(pos) > -1);\n\n                this.rand_pos.push(pos);\n                return pos;\n\n            },\n            get_random_rgb: function() {\n\n                var R, G, B, color;\n\n                do {\n                    R = parseInt(Math.random() * 255);\n                    G = parseInt(Math.random() * 255);\n                    B = parseInt(Math.random() * 255);\n\n                    color = \"rgb(\" + R + \", \" + G + \", \" + B + \")\";\n                }\n                while (this.rand_RGB.indexOf(color) > -1);\n\n                this.rand_RGB.push(color);\n                return color;\n\n            },\n            //if target element is specified the target's style (background) is updated\n            update_target: function(values) {\n\n                if (this.targets.length > 0) {\n                    //target elements exist\n\n                    var i, j, ele, len = this.targets.length, v_len = values.length;\n                    for (i = 0; i < len; i++) {\n                        ele = gradx.gx(this.targets[i]);\n\n                        for (j = 0; j < v_len; j++) {\n                            ele.css(\"background-image\", values[j]);\n                        }\n\n                    }\n                }\n            },\n            //apply styles on fly\n            apply_style: function(ele, value) {\n\n                var type = 'linear';\n\n                if (gradx.type != 'linear') {\n                    type = 'radial';\n                }\n\n                if (value.indexOf(this.direction) > -1) {\n                    //add cross-browser compatibility\n                    var values = [\n                        \"-webkit-\" + type + \"-gradient(\" + value + \")\",\n                        \"-moz-\" + type + \"-gradient(\" + value + \")\",\n                        \"-ms-\" + type + \"-gradient(\" + value + \")\",\n                        \"-o-\" + type + \"-gradient(\" + value + \")\",\n                        type + \"-gradient(\" + value + \")\"\n                    ];\n                } else {\n                    //normal color\n                    values = [value];\n                }\n\n\n\n                var len = values.length, css = '';\n\n                while (len > 0) {\n                    len--;\n                    ele.css(\"background\", values[len]);\n                    css += \"background: \" + values[len] + \";\\n\";\n                }\n\n                //call the userdefined change function\n                this.change(this.sliders, values);\n                this.update_target(values);\n\n\n                gradx.gx('#gradx_code').html(css);\n\n            },\n            //on load\n            apply_default_styles: function() {\n                this.update_style_array()\n                var value = this.get_style_value();\n                this.apply_style(this.panel, value);\n            },\n            //update the slider_values[] while dragging\n            update_style_array: function() {\n\n                this.sliders = [];\n\n                var len = gradx.slider_ids.length,\n                        i, offset, position, id;\n\n                for (i = 0; i < len; i++) {\n                    id = \"#\" + gradx.slider_ids[i];\n                    offset = parseInt(gradx.gx(id).css(\"left\"));\n                    position = parseInt((offset / gradx.container_width) * 100);\n                    position -= 6; //TODO: find why this is required\n                    gradx.sliders.push([gradx.gx(id).css(\"background-color\"), position]);\n\n                }\n\n                this.sliders.sort(function(A, B) {\n                    if (A[1] > B[1])\n                        return 1;\n                    else\n                        return -1;\n                });\n            },\n            //creates the complete css background value to later apply style\n            get_style_value: function() {\n\n                var len = gradx.slider_ids.length;\n\n                if (len === 1) {\n                    //since only one slider , so simple background\n\n                    style_str = this.sliders[0][0];\n                } else {\n                    var style_str = \"\", suffix = \"\";\n                    for (var i = 0; i < len; i++) {\n                        if (this.sliders[i][1] == \"\") {\n                            style_str += suffix + (this.sliders[i][0]);\n\n                        } else {\n                            if (this.sliders[i][1] > 100) {\n                                this.sliders[i][1] = 100;\n                            }\n                            style_str += suffix + (this.sliders[i][0] + \" \" + this.sliders[i][1] + \"%\");\n\n                        }\n                        suffix = \" , \"; //add , from next iteration\n                    }\n\n                    if (this.type == 'linear') {\n                        //direction, [color stoppers]\n                        style_str = this.direction + \" , \" + style_str; //add direction for gradient\n                    } else {\n                        //position, type size, [color stoppers]\n                        style_str = this.direction + \" , \" + this.type + \" \" + this.shape + \" , \" + style_str;\n                    }\n                }\n\n                return style_str;\n            },\n            //@input rgb string rgb(<red>,<green>,<blue>)\n            //@output rgb object of form { r: <red> , g: <green> , b : <blue>}\n            get_rgb_obj: function(rgb) {\n\n                //rgb(r,g,b)\n                rgb = rgb.split(\"(\");\n                //r,g,b)\n                rgb = rgb[1];\n                //r g b)\n                rgb = rgb.split(\",\");\n\n                return {\n                    r: parseInt(rgb[0]),\n                    g: parseInt(rgb[1]),\n                    b: parseInt(rgb[2])\n                };\n\n            },\n            load_info: function(ele) {\n                var id = \"#\" + ele.id;\n                this.current_slider_id = id;\n                //check if current clicked element is an slider\n                if (this.slider_ids.indexOf(ele.id) > -1) { //javascript does not has # in its id\n\n                    var color = gradx.gx(id).css(\"backgroundColor\");\n                    //but what happens if @color is not in RGB ? :(\n                    var rgb = this.get_rgb_obj(color);\n\n                    var left = gradx.gx(id).css(\"left\");\n                    if (parseInt(left) > 26 && parseInt(left) < 426) {\n                        gradx.gx(\"#gradx_slider_info\") //info element cached before\n                                .css(\"left\", left)\n                                .show();\n\n                    } \n                    \n                    this.set_colorpicker(rgb);\n                    console.log(rgb);\n                }\n\n            },\n            //add slider\n            add_slider: function(sliders) {\n\n\n                var id, slider, k, position, value, delta;\n\n\n                if (sliders.length === 0) {\n                    sliders = [//default sliders\n                        {\n                            color: gradx.get_random_rgb(),\n                            position: gradx.get_random_position() //x percent of gradient panel(400px)\n                        },\n                        {\n                            color: gradx.get_random_rgb(),\n                            position: gradx.get_random_position()\n                        }\n                    ];\n\n                }\n\n\n                var obj = sliders;\n\n                for (k in obj) {\n\n                    if (typeof obj[k].position === \"undefined\")\n                        break;\n\n                    //convert % to px based on containers width\n                    var delta = 26; //range: 26px tp 426px\n                    position = parseInt((obj[k].position * this.container_width) / 100) + delta + \"px\";\n\n                    id = \"gradx_slider_\" + (this.slider_index); //create an id for this slider\n                    this.sliders.push(\n                            [\n                                obj[k].color,\n                                obj[k].position\n                            ]\n                            );\n\n                    this.slider_ids.push(id); //for reference wrt to id\n\n                    slider = \"<div class='gradx_slider' id='\" + id + \"'></div>\";\n                    gradx.gx(\"#gradx_start_sliders_\" + this.id).append(slider);\n\n                    gradx.gx('#' + id).css(\"backgroundColor\", obj[k].color).css(\"left\", position);\n                    this.slider_index++;\n                }\n\n                for (var i = 0, len = this.slider_ids.length; i < len; i++) {\n\n                    gradx.gx('#' + this.slider_ids[i]).draggable({\n                        containment: 'parent',\n                        axis: 'x',\n                        start: function() {\n                            if (gradx.jQ_present)\n                                gradx.current_slider_id = \"#\" + gradx.gx(this).attr(\"id\"); //got full jQuery power here !\n                        },\n                        drag: function() {\n\n                            gradx.update_style_array();\n                            gradx.apply_style(gradx.panel, gradx.get_style_value());\n                            var left = gradx.gx(gradx.current_slider_id).css(\"left\");\n\n\n                            if (parseInt(left) > 26 && parseInt(left) < 426) {\n                                gradx.gx(\"#gradx_slider_info\") //info element cached before\n                                        .css(\"left\", left)\n                                        .show();\n\n                            } /*else {\n                             if (parseInt(left) > 120) {\n                             left = \"272px\";\n                             } else {\n                             left = \"120px\";\n                             }\n                             \n                             gradx.gx(\"#gradx_slider_info\") //info element cached before\n                             .css(\"left\", left)\n                             .show();\n                             \n                             }*/\n                            var color = gradx.gx(gradx.current_slider_id).css(\"backgroundColor\");\n                            //but what happens if @color is not in RGB ? :(\n                            var rgb = gradx.get_rgb_obj(color);\n                            gradx.cp.colorPicker(\"set\", rgb);\n\n                        }\n\n                    }).click(function() {\n                        gradx.load_info(this);\n                        return false;\n                    });\n                }\n\n\n            },\n            set_colorpicker: function(clr) {\n                gradx.cp.colorPicker({\n                    move: function(color) {\n                        if (gradx.current_slider_id != false) {\n                            var rgba = color.toRgbString();\n                            gradx.gx(gradx.current_slider_id).css('background-color', rgba);\n                            gradx.update_style_array();\n                            gradx.apply_style(gradx.panel, gradx.get_style_value());\n                        }\n                    },\n                    change: function() {\n                        gradx.gx(\"#gradx_slider_info\").hide();\n                    },\n                    flat: true,\n                    showAlpha: true,\n                    color: clr,\n                    clickoutFiresChange: true,\n                    showInput: true,\n                    showButtons: false\n\n                });\n            },\n            generate_options: function(options) {\n\n                var len = options.length,\n                        name, state,\n                        str = '';\n\n                for (var i = 0; i < len; i++) {\n\n                    name = options[i].split(\" \");\n\n                    name = name[0];\n\n                    if (i < 2) {\n                        state = name[1];\n                    } else {\n                        state = '';\n                    }\n\n                    name = name.replace(\"-\", \" \");\n\n                    str += '<option value=' + options[i] + ' ' + state + '>' + name + '</option>';\n\n                }\n\n                return str;\n            },\n            generate_radial_options: function() {\n\n                var options;\n                options = [\"horizontal-center disabled\", \"center selected\", \"left\", \"right\"];\n                gradx.gx('#gradx_gradient_subtype').html(gradx.generate_options(options));\n\n                options = [\"vertical-center disabled\", \"center selected\", \"top\", \"bottom\"];\n                gradx.gx('#gradx_gradient_subtype2').html(gradx.generate_options(options)).show();\n\n            },\n            generate_linear_options: function() {\n\n                var options;\n                options = [\"horizontal-center disabled\", \"left selected\", \"right\", \"top\", \"bottom\"];\n                gradx.gx('#gradx_gradient_subtype').html(gradx.generate_options(options));\n\n                gradx.gx('#gradx_gradient_subtype2').hide();\n\n            },\n            destroy: function() {\n                var options = {\n                    targets: [], //[element selector] -> array\n                    sliders: [],\n                    direction: 'left',\n                    //if linear left | top | right | bottom\n                    //if radial left | center | right , top | center | bottom \n                    type: 'linear', //linear | circle | ellipse\n                    code_shown: false, //false | true\n                    change: function(sliders, styles) {\n                        //nothing to do here by default\n                    }\n                };\n\n                for (var k in options) {\n                    gradx[k] = options[k];\n                }\n            },\n            load_gradx: function(id, sliders) {\n                this.me = gradx.gx(id);\n                this.id = id.replace(\"#\", \"\");\n                id = this.id;\n                this.current_slider_id = false;\n                var html = \"<div class='gradx'>\\n\\\n                            <div id='gradx_add_slider' class='gradx_add_slider gradx_btn'><i class='icon icon-add'></i>add</div>\\n\\\n                            <div class='gradx_slectboxes'>\\n\\\n                            <select id='gradx_gradient_type' class='gradx_gradient_type'>\\n\\\n                                <option value='linear'>Linear</option>\\n\\\n                                <option value='circle'>Radial - Circle</option>\\n\\\n                                <option value='ellipse'>Radial - Ellipse</option>\\n\\\n                            </select>\\n\\\n                            <select id='gradx_gradient_subtype' class='gradx_gradient_type'>\\n\\\n                                <option id='gradx_gradient_subtype_desc' value='gradient-direction' disabled>gradient direction</option>\\n\\\n                                <option value='left' selected>Left</option>\\n\\\n                                <option value='right'>Right</option>\\n\\\n                                <option value='top'>Top</option>\\n\\\n                                <option value='bottom'>Bottom</option>\\n\\\n                            </select>\\n\\\n                            <select id='gradx_gradient_subtype2' class='gradx_gradient_type gradx_hide'>\\n\\\n                            </select>\\n\\\n                            <select id='gradx_radial_gradient_size' class='gradx_gradient_type gradx_hide'>\\n\\\n                            </select>\\n\\\n                            </div>\\n\\\n                            <div class='gradx_container' id='gradx_\" + id + \"'>\\n\\\n                                <div id='gradx_stop_sliders_\" + id + \"'></div>\\n\\\n                                <div class='gradx_panel' id='gradx_panel_\" + id + \"'></div>\\n\\\n                                <div class='gradx_start_sliders' id='gradx_start_sliders_\" + id + \"'>\\n\\\n                                    <div class='cp-default' id='gradx_slider_info'>\\n\\\n                                        <div id='gradx_slider_controls'>\\n\\\n                                            <div id='gradx_delete_slider' class='gradx_btn'><i class='icon icon-remove'></i>delete</div>\\n\\\n                                        </div>\\n\\\n                                        <div id='gradx_slider_content'></div>\\n\\\n                                    </div> \\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                            <div id='gradx_show_code' class='gradx_show_code gradx_btn'><i class='icon icon-file-css'></i><span>show the code</span></div>\\n\\\n                            <div id='gradx_show_presets' style='display:none' class='gradx_show_presets gradx_btn'><i class='icon icon-preset'></i><span>show presets</span></div>\\n\\\n                            <textarea class='gradx_code' id='gradx_code'></textarea>\\n\\\n                        </div>\";\n\n                this.me.html(html);\n\n\n                //generates html to select the different gradient sizes\n                // *only available for radial gradients\n                var gradient_size_val = [\"gradient-size disabled\", \"closest-side selected\", \"closest-corner\", \"farthest-side\", \"farthest-corner\", \"contain\", \"cover\"],\n                        option_str = '';\n\n\n                option_str = gradx.generate_options(gradient_size_val);\n\n                gradx.gx('#gradx_radial_gradient_size').html(option_str);\n\n\n                //cache divs for fast reference\n\n                this.container = gradx.gx(\"#gradx_\" + id);\n                this.panel = gradx.gx(\"#gradx_panel_\" + id);\n                //.hide();\n                //this.info.hide();\n                this.container_width = 400 //HARDCODE;\n                this.add_slider(sliders);\n\n\n                gradx.add_event(document, 'click', function() {\n    //            if(!gradx.jQ_present){\n                    if (!gradx.slider_hovered[id]) {\n                        gradx.gx(\"#gradx_slider_info\").hide();\n                        return false;\n                    }\n                });\n\n\n\n                gradx.gx('#gradx_add_slider').click(function() {\n                    gradx.add_slider([\n                        {\n                            color: gradx.get_random_rgb(),\n                            position: gradx.get_random_position() //no % symbol\n                        }\n                    ]);\n                    gradx.update_style_array();\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n                });\n\n                //cache the element\n                gradx.cp = gradx.gx('#gradx_slider_content');\n\n                //call the colorpicker plugin\n                gradx.set_colorpicker(\"blue\");\n\n                gradx.gx('#gradx_delete_slider').click(function() {\n                    gradx.gx(gradx.current_slider_id).remove();\n                    gradx.gx(\"#gradx_slider_info\").hide();\n                    var id = gradx.current_slider_id.replace(\"#\", \"\");\n\n                    //remove all references from array for current deleted slider\n\n                    for (var i = 0; i < gradx.slider_ids.length; i++) {\n                        if (gradx.slider_ids[i] == id) {\n                            gradx.slider_ids.splice(i, 1);\n                        }\n                    }\n\n                    //apply modified style after removing the slider\n                    gradx.update_style_array();\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());\n\n                    gradx.current_slider_id = false; //no slider is selected\n\n                });\n\n                gradx.gx('#gradx_code').focus(function() {\n                    var $this = gradx.gx(this);\n                    $this.select();\n\n                    // Work around Chrome's little problem\n                    $this.mouseup(function() {\n                        // Prevent further mouseup intervention\n                        $this.unbind(\"mouseup\");\n                        return false;\n                    });\n                });\n\n                gradx.gx('#gradx_gradient_type').change(function() {\n\n                    var type = gradx.gx(this).val(), options, option_str = '';\n\n                    if (type !== \"linear\") {\n                        //gradx.gx('#gradx_radial_gradient_size').show();\n\n                        gradx.generate_radial_options();\n                    } else {\n\n                        gradx.generate_linear_options();\n                        gradx.gx('#gradx_gradient_subtype').val(\"left\");\n                    }\n\n                    gradx.type = type;\n                    gradx.direction = gradx.gx('#gradx_gradient_subtype').val();\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n                });\n\n                //change type onload userdefined\n                if (this.type !== \"linear\") {\n                    gradx.gx('#gradx_gradient_type').val(this.type);\n                    gradx.generate_radial_options();\n\n                    var h, v;\n\n                    if (this.direction !== 'left') {\n                        //user has passed his own direction\n                        var center;\n                        if (this.direction.indexOf(\",\") > -1) {\n                            center = this.direction.split(\",\");\n                        } else {\n                            //tolerate user mistakes\n                            center = this.direction.split(\" \");\n                        }\n\n                        h = center[0];\n                        v = center[1];\n\n                        //update the center points in the corr. select boxes\n                        gradx.gx('#gradx_gradient_subtype').val(h);\n                        gradx.gx('#gradx_gradient_subtype2').val(v);\n                    } else {\n                        var h = gradx.gx('#gradx_gradient_subtype').val();\n                        var v = gradx.gx('#gradx_gradient_subtype2').val();\n                    }\n\n                    gradx.direction = h + \" \" + v;\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n                } else {\n\n                    //change direction if not left\n                    if (this.direction !== 'left') {\n                        gradx.gx('#gradx_gradient_subtype').val(this.direction);\n                    }\n                }\n\n                gradx.gx('#gradx_gradient_subtype').change(function() {\n\n                    if (gradx.type === 'linear') {\n                        gradx.direction = gradx.gx(this).val();\n                    } else {\n                        var h = gradx.gx(this).val();\n                        var v = gradx.gx('#gradx_gradient_subtype2').val();\n                        gradx.direction = h + \" \" + v;\n                    }\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n                });\n\n                gradx.gx('#gradx_gradient_subtype2').change(function() {\n\n                    var h = gradx.gx('#gradx_gradient_subtype').val();\n                    var v = gradx.gx(this).val();\n                    gradx.direction = h + \" \" + v;\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n                });\n\n                //not visible\n                gradx.gx('#gradx_radial_gradient_size').change(function() {\n                    gradx.shape = gradx.gx(this).val();\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n                });\n\n                gradx.gx('#gradx_show_code').click(function() {\n\n                    if (gradx.code_shown) {\n                        //hide it\n\n                        gradx.code_shown = false;\n                        gradx.gx('#gradx_show_code span').text(\"show the code\");\n                        gradx.gx(\"#gradx_code\").hide();\n                    }\n                    else {\n                        //show it\n\n                        gradx.gx('#gradx_show_code span').text(\"hide the code\");\n                        gradx.gx(\"#gradx_code\").show();\n                        gradx.code_shown = true;\n                    }\n                });\n\n                //show or hide onload\n                if (gradx.code_shown) {\n                    //show it\n\n                    gradx.gx('#gradx_show_code span').text(\"hide the code\");\n                    gradx.gx(\"#gradx_code\").show();\n\n                }\n\n                gradx.add_event(document.getElementById('gradx_slider_info'), 'mouseout', function() {\n                    gradx.slider_hovered[id] = false;\n                });\n                gradx.add_event(document.getElementById('gradx_slider_info'), 'mouseover', function() {\n                    gradx.slider_hovered[id] = true;\n\n                });\n\n            }\n\n\n\n\n        };\n\n\n\n        function  add_event(element, event, event_function)\n        {\n            if (element.attachEvent) //Internet Explorer\n                element.attachEvent(\"on\" + event, function() {\n                    event_function.call(element);\n                });\n            else if (element.addEventListener) //Firefox & company\n                element.addEventListener(event, event_function, false); //don't need the 'call' trick because in FF everything already works in the right way\n        }\n        ;\n\n\n\n        //load jQuery library into gradx.gx\n        gradx.load_jQ();\n\n\n        /* merge _options into options */\n        langx.mixin(options, _options);\n\n        //apply options to gradx object\n\n        for (var k in options) {\n\n            //load the options into gradx object\n            gradx[k] = options[k];\n\n        }\n\n        gradx.load_gradx(id, gradx.sliders);\n        gradx.apply_default_styles();\n\n\n    };\n\n    return gradX;\n});"]}