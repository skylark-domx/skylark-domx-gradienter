{"version":3,"sources":["Drag.js"],"names":["define","Drag","obj","gradx","init","o","oRoot","minX","maxX","minY","maxY","bSwapHorzRef","bSwapVertRef","fXMapper","fYMapper","onmousedown","start","hmode","vmode","root","isNaN","parseInt","style","left","right","xMapper","yMapper","onDragStart","Function","onDragEnd","onDrag","e","current_slider_id","this","id","fixE","y","top","bottom","x","lastMouseX","clientX","lastMouseY","clientY","minMouseX","maxMouseX","minMouseY","maxMouseY","document","onmousemove","drag","onmouseup","end","update_style_array","apply_style","panel","get_style_value","gx","css","show","color","rgb","get_rgb_obj","cp","colorPicker","nx","ny","ey","ex","Math","max","min","window","event","layerX","offsetX","layerY","offsetY"],"mappings":"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","file":"../Drag.js","sourcesContent":["define([],function() {\n    /**************************************************\n     * dom-drag.js\n     * 09.25.2001\n     * www.youngpup.net\n     **************************************************\n     * 10.28.2001 - fixed minor bug where events\n     * sometimes fired off the handle, not the root.\n     **************************************************/\n\n    var Drag = {\n\n        obj : null,\n\n        gradx : null,\n\n        init : function(o, oRoot, minX, maxX, minY, maxY, bSwapHorzRef, bSwapVertRef, fXMapper, fYMapper)\n        {\n            o.onmousedown\t= Drag.start;\n\n            o.hmode\t\t\t= bSwapHorzRef ? false : true ;\n            o.vmode\t\t\t= bSwapVertRef ? false : true ;\n\n            o.root = oRoot && oRoot != null ? oRoot : o ;\n\n            if (o.hmode  && isNaN(parseInt(o.root.style.left  ))) o.root.style.left   = \"0px\";\n           //if (o.vmode  && isNaN(parseInt(o.root.style.top   ))) o.root.style.top    = \"0px\";\n            if (!o.hmode && isNaN(parseInt(o.root.style.right ))) o.root.style.right  = \"0px\";\n           // if (!o.vmode && isNaN(parseInt(o.root.style.bottom))) o.root.style.bottom = \"0px\";\n\n            o.minX\t= typeof minX != 'undefined' ? minX : null;\n            o.minY\t= typeof minY != 'undefined' ? minY : null;\n            o.maxX\t= typeof maxX != 'undefined' ? maxX : null;\n            o.maxY\t= typeof maxY != 'undefined' ? maxY : null;\n\n            o.xMapper = fXMapper ? fXMapper : null;\n            o.yMapper = fYMapper ? fYMapper : null;\n\n            o.root.onDragStart\t= new Function();\n            o.root.onDragEnd\t= new Function();\n            o.root.onDrag\t\t= new Function();\n        },\n\n        start : function(e)\n        {\n            Drag.gradx.current_slider_id = \"#\"+this.id;\n\n            var o = Drag.obj = this;\n            e = Drag.fixE(e);\n            var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\n            var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\n            o.root.onDragStart(x, y);\n\n            o.lastMouseX\t= e.clientX;\n            o.lastMouseY\t= e.clientY;\n\n            if (o.hmode) {\n                if (o.minX != null)\to.minMouseX\t= e.clientX - x + o.minX;\n                if (o.maxX != null)\to.maxMouseX\t= o.minMouseX + o.maxX - o.minX;\n            } else {\n                if (o.minX != null) o.maxMouseX = -o.minX + e.clientX + x;\n                if (o.maxX != null) o.minMouseX = -o.maxX + e.clientX + x;\n            }\n\n            if (o.vmode) {\n                if (o.minY != null)\to.minMouseY\t= e.clientY - y + o.minY;\n                if (o.maxY != null)\to.maxMouseY\t= o.minMouseY + o.maxY - o.minY;\n            }\n            else {\n                if (o.minY != null) o.maxMouseY = -o.minY + e.clientY + y;\n                if (o.maxY != null) o.minMouseY = -o.maxY + e.clientY + y;\n            }\n\n            document.onmousemove\t= Drag.drag;\n            document.onmouseup\t= Drag.end;\n\n            return false;\n        },\n\n        drag : function(e)\n        {\n            e = Drag.fixE(e);\n            var o = Drag.obj;\n\n            Drag.gradx.update_style_array();\n            Drag.gradx.apply_style(Drag.gradx.panel, Drag.gradx.get_style_value());\n            var left = Drag.gradx.gx(\"#\"+o.id).css(\"left\");\n\n\n            if(parseInt(left) > 60 && parseInt(left) < 390) {\n                Drag.gradx.gx(\"#gradx_slider_info\") //info element cached before\n                .css(\"left\",left)\n                .show();\n                         \n            }/*else {\n                if(parseInt(left) > 120) {\n                    left = \"272px\";\n                }else{\n                    left = \"120px\";\n                }\n                    \n                gradx.gx(\"#gradx_slider_info\") //info element cached before\n                .css(\"left\",left)\n                .show();\n                     \n            }*/\n             var color = Drag.gradx.gx(\"#\"+o.id).css(\"backgroundColor\");\n            //but what happens if @color is not in RGB ? :(\n            var rgb = Drag.gradx.get_rgb_obj(color);\n            Drag.gradx.cp.colorPicker(\"set\",rgb);\n\n\n            var ey\t= e.clientY;\n            var ex\t= e.clientX;\n            var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\n            var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\n            var nx, ny;\n\n            if (o.minX != null) ex = o.hmode ? Math.max(ex, o.minMouseX) : Math.min(ex, o.maxMouseX);\n            if (o.maxX != null) ex = o.hmode ? Math.min(ex, o.maxMouseX) : Math.max(ex, o.minMouseX);\n            if (o.minY != null) ey = o.vmode ? Math.max(ey, o.minMouseY) : Math.min(ey, o.maxMouseY);\n            if (o.maxY != null) ey = o.vmode ? Math.min(ey, o.maxMouseY) : Math.max(ey, o.minMouseY);\n\n            nx = x + ((ex - o.lastMouseX) * (o.hmode ? 1 : -1));\n            ny = y + ((ey - o.lastMouseY) * (o.vmode ? 1 : -1));\n\n            if (o.xMapper)\t\tnx = o.xMapper(y)\n            else if (o.yMapper)\tny = o.yMapper(x)\n\n            Drag.obj.root.style[o.hmode ? \"left\" : \"right\"] = nx + \"px\";\n            //Drag.obj.root.style[o.vmode ? \"top\" : \"bottom\"] = ny + \"px\";\n            Drag.obj.lastMouseX\t= ex;\n            Drag.obj.lastMouseY\t= ey;\n\n            Drag.obj.root.onDrag(nx, ny);\n            return false;\n        },\n\n        end : function()\n        {\n            document.onmousemove = null;\n            document.onmouseup   = null;\n            Drag.obj.root.onDragEnd(\tparseInt(Drag.obj.root.style[Drag.obj.hmode ? \"left\" : \"right\"]), \n                parseInt(Drag.obj.root.style[Drag.obj.vmode ? \"top\" : \"bottom\"]));\n            Drag.obj = null;\n        },\n\n        fixE : function(e)\n        {\n            if (typeof e == 'undefined') e = window.event;\n            if (typeof e.layerX == 'undefined') e.layerX = e.offsetX;\n            if (typeof e.layerY == 'undefined') e.layerY = e.offsetY;\n            return e;\n        }\n    };\n\n    return Drag;\n});"]}