{"version":3,"sources":["skylark-ui-gradienter.js"],"names":["factory","globals","absolute","relative","base","stack","split","parts","pop","i","length","push","join","define","require","isAmd","amd","isCmd","exports","map","id","deps","dep","hasOwnProperty","Error","module","args","forEach","apply","window","skylarkjs","Drag","obj","gradx","init","o","oRoot","minX","maxX","minY","maxY","bSwapHorzRef","bSwapVertRef","fXMapper","fYMapper","onmousedown","start","hmode","vmode","root","isNaN","parseInt","style","left","right","xMapper","yMapper","onDragStart","Function","onDragEnd","onDrag","e","current_slider_id","this","fixE","y","top","bottom","x","lastMouseX","clientX","lastMouseY","clientY","minMouseX","maxMouseX","minMouseY","maxMouseY","document","onmousemove","drag","onmouseup","end","update_style_array","apply_style","panel","get_style_value","gx","css","show","color","rgb","get_rgb_obj","cp","colorPicker","nx","ny","ey","ex","Math","max","min","event","layerX","offsetX","layerY","offsetY","skylark","langx","browser","noder","eventer","finder","$","colors","Color","ui","Widget","ColorPicker","fn","draggable","ele","getElementById","attr","gradX","Gradienter","_options","add_event","element","event_function","attachEvent","call","addEventListener","options","targets","sliders","direction","type","code_shown","change","styles","rand_RGB","rand_pos","slider_ids","slider_index","shape","slider_hovered","jQ_present","load_jQ","el","evt","evt_func","get_random_position","pos","random","indexOf","get_random_rgb","R","G","B","update_target","values","j","len","v_len","value","html","apply_default_styles","offset","position","container_width","sort","A","style_str","suffix","r","g","b","load_info","set_colorpicker","console","log","add_slider","slider","k","delta","append","containment","axis","click","clr","move","rgba","toRgbString","hide","flat","showAlpha","clickoutFiresChange","showInput","showButtons","generate_options","name","state","str","replace","generate_radial_options","generate_linear_options","destroy","load_gradx","me","gradient_size_val","option_str","container","remove","splice","focus","$this","select","mouseup","unbind","val","h","v","center","text","mixin","main"],"mappings":"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","file":"../skylark-ui-gradienter.js","sourcesContent":["define('skylark-ui-gradienter/Drag',[],function() {\r\n    /**************************************************\r\n     * dom-drag.js\r\n     * 09.25.2001\r\n     * www.youngpup.net\r\n     **************************************************\r\n     * 10.28.2001 - fixed minor bug where events\r\n     * sometimes fired off the handle, not the root.\r\n     **************************************************/\r\n\r\n    var Drag = {\r\n\r\n        obj : null,\r\n\r\n        gradx : null,\r\n\r\n        init : function(o, oRoot, minX, maxX, minY, maxY, bSwapHorzRef, bSwapVertRef, fXMapper, fYMapper)\r\n        {\r\n            o.onmousedown\t= Drag.start;\r\n\r\n            o.hmode\t\t\t= bSwapHorzRef ? false : true ;\r\n            o.vmode\t\t\t= bSwapVertRef ? false : true ;\r\n\r\n            o.root = oRoot && oRoot != null ? oRoot : o ;\r\n\r\n            if (o.hmode  && isNaN(parseInt(o.root.style.left  ))) o.root.style.left   = \"0px\";\r\n           //if (o.vmode  && isNaN(parseInt(o.root.style.top   ))) o.root.style.top    = \"0px\";\r\n            if (!o.hmode && isNaN(parseInt(o.root.style.right ))) o.root.style.right  = \"0px\";\r\n           // if (!o.vmode && isNaN(parseInt(o.root.style.bottom))) o.root.style.bottom = \"0px\";\r\n\r\n            o.minX\t= typeof minX != 'undefined' ? minX : null;\r\n            o.minY\t= typeof minY != 'undefined' ? minY : null;\r\n            o.maxX\t= typeof maxX != 'undefined' ? maxX : null;\r\n            o.maxY\t= typeof maxY != 'undefined' ? maxY : null;\r\n\r\n            o.xMapper = fXMapper ? fXMapper : null;\r\n            o.yMapper = fYMapper ? fYMapper : null;\r\n\r\n            o.root.onDragStart\t= new Function();\r\n            o.root.onDragEnd\t= new Function();\r\n            o.root.onDrag\t\t= new Function();\r\n        },\r\n\r\n        start : function(e)\r\n        {\r\n            Drag.gradx.current_slider_id = \"#\"+this.id;\r\n\r\n            var o = Drag.obj = this;\r\n            e = Drag.fixE(e);\r\n            var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\r\n            var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\r\n            o.root.onDragStart(x, y);\r\n\r\n            o.lastMouseX\t= e.clientX;\r\n            o.lastMouseY\t= e.clientY;\r\n\r\n            if (o.hmode) {\r\n                if (o.minX != null)\to.minMouseX\t= e.clientX - x + o.minX;\r\n                if (o.maxX != null)\to.maxMouseX\t= o.minMouseX + o.maxX - o.minX;\r\n            } else {\r\n                if (o.minX != null) o.maxMouseX = -o.minX + e.clientX + x;\r\n                if (o.maxX != null) o.minMouseX = -o.maxX + e.clientX + x;\r\n            }\r\n\r\n            if (o.vmode) {\r\n                if (o.minY != null)\to.minMouseY\t= e.clientY - y + o.minY;\r\n                if (o.maxY != null)\to.maxMouseY\t= o.minMouseY + o.maxY - o.minY;\r\n            }\r\n            else {\r\n                if (o.minY != null) o.maxMouseY = -o.minY + e.clientY + y;\r\n                if (o.maxY != null) o.minMouseY = -o.maxY + e.clientY + y;\r\n            }\r\n\r\n            document.onmousemove\t= Drag.drag;\r\n            document.onmouseup\t= Drag.end;\r\n\r\n            return false;\r\n        },\r\n\r\n        drag : function(e)\r\n        {\r\n            e = Drag.fixE(e);\r\n            var o = Drag.obj;\r\n\r\n            Drag.gradx.update_style_array();\r\n            Drag.gradx.apply_style(Drag.gradx.panel, Drag.gradx.get_style_value());\r\n            var left = Drag.gradx.gx(\"#\"+o.id).css(\"left\");\r\n\r\n\r\n            if(parseInt(left) > 60 && parseInt(left) < 390) {\r\n                Drag.gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                .css(\"left\",left)\r\n                .show();\r\n                         \r\n            }/*else {\r\n                if(parseInt(left) > 120) {\r\n                    left = \"272px\";\r\n                }else{\r\n                    left = \"120px\";\r\n                }\r\n                    \r\n                gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                .css(\"left\",left)\r\n                .show();\r\n                     \r\n            }*/\r\n             var color = Drag.gradx.gx(\"#\"+o.id).css(\"backgroundColor\");\r\n            //but what happens if @color is not in RGB ? :(\r\n            var rgb = Drag.gradx.get_rgb_obj(color);\r\n            Drag.gradx.cp.colorPicker(\"set\",rgb);\r\n\r\n\r\n            var ey\t= e.clientY;\r\n            var ex\t= e.clientX;\r\n            var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\r\n            var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\r\n            var nx, ny;\r\n\r\n            if (o.minX != null) ex = o.hmode ? Math.max(ex, o.minMouseX) : Math.min(ex, o.maxMouseX);\r\n            if (o.maxX != null) ex = o.hmode ? Math.min(ex, o.maxMouseX) : Math.max(ex, o.minMouseX);\r\n            if (o.minY != null) ey = o.vmode ? Math.max(ey, o.minMouseY) : Math.min(ey, o.maxMouseY);\r\n            if (o.maxY != null) ey = o.vmode ? Math.min(ey, o.maxMouseY) : Math.max(ey, o.minMouseY);\r\n\r\n            nx = x + ((ex - o.lastMouseX) * (o.hmode ? 1 : -1));\r\n            ny = y + ((ey - o.lastMouseY) * (o.vmode ? 1 : -1));\r\n\r\n            if (o.xMapper)\t\tnx = o.xMapper(y)\r\n            else if (o.yMapper)\tny = o.yMapper(x)\r\n\r\n            Drag.obj.root.style[o.hmode ? \"left\" : \"right\"] = nx + \"px\";\r\n            //Drag.obj.root.style[o.vmode ? \"top\" : \"bottom\"] = ny + \"px\";\r\n            Drag.obj.lastMouseX\t= ex;\r\n            Drag.obj.lastMouseY\t= ey;\r\n\r\n            Drag.obj.root.onDrag(nx, ny);\r\n            return false;\r\n        },\r\n\r\n        end : function()\r\n        {\r\n            document.onmousemove = null;\r\n            document.onmouseup   = null;\r\n            Drag.obj.root.onDragEnd(\tparseInt(Drag.obj.root.style[Drag.obj.hmode ? \"left\" : \"right\"]), \r\n                parseInt(Drag.obj.root.style[Drag.obj.vmode ? \"top\" : \"bottom\"]));\r\n            Drag.obj = null;\r\n        },\r\n\r\n        fixE : function(e)\r\n        {\r\n            if (typeof e == 'undefined') e = window.event;\r\n            if (typeof e.layerX == 'undefined') e.layerX = e.offsetX;\r\n            if (typeof e.layerY == 'undefined') e.layerY = e.offsetY;\r\n            return e;\r\n        }\r\n    };\r\n\r\n    return Drag;\r\n});\ndefine('skylark-ui-gradienter/Gradienter',[\r\n   \"skylark-langx/skylark\",\r\n    \"skylark-langx/langx\",\r\n    \"skylark-utils/browser\",\r\n    \"skylark-utils/noder\",\r\n    \"skylark-utils/eventer\",\r\n    \"skylark-utils/finder\",\r\n    \"skylark-utils/query\",\r\n    \"skylark-utils-color/colors\",\r\n    \"skylark-utils-color/Color\",\r\n    \"skylark-ui-swt/ui\",\r\n    \"skylark-ui-swt/Widget\",\r\n    \"skylark-ui-colorpicker/ColorPicker\",\r\n    \"./Drag\"\r\n],function(skylark, langx, browser, noder, eventer,finder, $, colors, Color, ui, Widget,ColorPicker,Drag) {\r\n\r\n\r\n    /*\r\n     *\r\n     * SAMPLE USAGE DETAILS :\r\n     * \r\n     * sliders structure :\r\n     *\r\n     * [\r\n     *  {\r\n     *     color: \"COLOR\",\r\n     *     position: \"POSITION\" //0 to 100 without % symbol\r\n     *  },\r\n     *  {\r\n     *     ....\r\n     *     ....\r\n     *  },\r\n     *  ....\r\n     * ]\r\n     *\r\n     */\r\n\r\n    'use strict';\r\n\r\n    //make me jquery UI  independent\r\n    if (typeof $.fn.draggable === \"undefined\") {\r\n\r\n        $.fn.draggable = function() {\r\n            //console.log(this);\r\n            var ele = document.getElementById(this.attr(\"id\"));\r\n            ele.style.top = \"121px\";\r\n            Drag.init(ele, null, 26, 426, 86, 86);\r\n            return this;\r\n        };\r\n\r\n\r\n    }\r\n\r\n\r\n    var gradX = ui.Gradienter = function(id, _options) {\r\n\r\n\r\n        var options = {\r\n            targets: [], //[element selector] -> array\r\n            sliders: [],\r\n            direction: 'left',\r\n            //if linear left | top | right | bottom\r\n            //if radial left | center | right , top | center | bottom \r\n            type: 'linear', //linear | circle | ellipse\r\n            code_shown: false, //false | true\r\n            change: function(sliders, styles) {\r\n                //nothing to do here by default\r\n            }\r\n        },\r\n    \t\r\n        //make global\t\r\n        gradx = Drag.gradx = {\r\n            rand_RGB: [],\r\n            rand_pos: [],\r\n            id: null,\r\n            slider_ids: [],\r\n            slider_index: 0, //global index for sliders\r\n            sliders: [], //contains styles of each slider\r\n            direction: \"left\", //direction of gradient or position of centre in case of radial gradients\r\n            type: \"linear\", //linear or radial\r\n            shape: \"cover\", //radial gradient size\r\n            slider_hovered: [],\r\n            jQ_present: true,\r\n            code_shown: false,\r\n            load_jQ: function() {\r\n\r\n                //handle any library conflicts here\r\n                this.gx = $;\r\n            },\r\n            //very lazy to replace this by jQuery\r\n            add_event: function(el, evt, evt_func) {\r\n                add_event(el, evt, evt_func);\r\n            },\r\n            get_random_position: function() {\r\n                var pos;\r\n\r\n                do {\r\n                    pos = parseInt(Math.random() * 100);\r\n                }\r\n                while (this.rand_pos.indexOf(pos) > -1);\r\n\r\n                this.rand_pos.push(pos);\r\n                return pos;\r\n\r\n            },\r\n            get_random_rgb: function() {\r\n\r\n                var R, G, B, color;\r\n\r\n                do {\r\n                    R = parseInt(Math.random() * 255);\r\n                    G = parseInt(Math.random() * 255);\r\n                    B = parseInt(Math.random() * 255);\r\n\r\n                    color = \"rgb(\" + R + \", \" + G + \", \" + B + \")\";\r\n                }\r\n                while (this.rand_RGB.indexOf(color) > -1);\r\n\r\n                this.rand_RGB.push(color);\r\n                return color;\r\n\r\n            },\r\n            //if target element is specified the target's style (background) is updated\r\n            update_target: function(values) {\r\n\r\n                if (this.targets.length > 0) {\r\n                    //target elements exist\r\n\r\n                    var i, j, ele, len = this.targets.length, v_len = values.length;\r\n                    for (i = 0; i < len; i++) {\r\n                        ele = gradx.gx(this.targets[i]);\r\n\r\n                        for (j = 0; j < v_len; j++) {\r\n                            ele.css(\"background-image\", values[j]);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            },\r\n            //apply styles on fly\r\n            apply_style: function(ele, value) {\r\n\r\n                var type = 'linear';\r\n\r\n                if (gradx.type != 'linear') {\r\n                    type = 'radial';\r\n                }\r\n\r\n                if (value.indexOf(this.direction) > -1) {\r\n                    //add cross-browser compatibility\r\n                    var values = [\r\n                        \"-webkit-\" + type + \"-gradient(\" + value + \")\",\r\n                        \"-moz-\" + type + \"-gradient(\" + value + \")\",\r\n                        \"-ms-\" + type + \"-gradient(\" + value + \")\",\r\n                        \"-o-\" + type + \"-gradient(\" + value + \")\",\r\n                        type + \"-gradient(\" + value + \")\"\r\n                    ];\r\n                } else {\r\n                    //normal color\r\n                    values = [value];\r\n                }\r\n\r\n\r\n\r\n                var len = values.length, css = '';\r\n\r\n                while (len > 0) {\r\n                    len--;\r\n                    ele.css(\"background\", values[len]);\r\n                    css += \"background: \" + values[len] + \";\\n\";\r\n                }\r\n\r\n                //call the userdefined change function\r\n                this.change(this.sliders, values);\r\n                this.update_target(values);\r\n\r\n\r\n                gradx.gx('#gradx_code').html(css);\r\n\r\n            },\r\n            //on load\r\n            apply_default_styles: function() {\r\n                this.update_style_array()\r\n                var value = this.get_style_value();\r\n                this.apply_style(this.panel, value);\r\n            },\r\n            //update the slider_values[] while dragging\r\n            update_style_array: function() {\r\n\r\n                this.sliders = [];\r\n\r\n                var len = gradx.slider_ids.length,\r\n                        i, offset, position, id;\r\n\r\n                for (i = 0; i < len; i++) {\r\n                    id = \"#\" + gradx.slider_ids[i];\r\n                    offset = parseInt(gradx.gx(id).css(\"left\"));\r\n                    position = parseInt((offset / gradx.container_width) * 100);\r\n                    position -= 6; //TODO: find why this is required\r\n                    gradx.sliders.push([gradx.gx(id).css(\"background-color\"), position]);\r\n\r\n                }\r\n\r\n                this.sliders.sort(function(A, B) {\r\n                    if (A[1] > B[1])\r\n                        return 1;\r\n                    else\r\n                        return -1;\r\n                });\r\n            },\r\n            //creates the complete css background value to later apply style\r\n            get_style_value: function() {\r\n\r\n                var len = gradx.slider_ids.length;\r\n\r\n                if (len === 1) {\r\n                    //since only one slider , so simple background\r\n\r\n                    style_str = this.sliders[0][0];\r\n                } else {\r\n                    var style_str = \"\", suffix = \"\";\r\n                    for (var i = 0; i < len; i++) {\r\n                        if (this.sliders[i][1] == \"\") {\r\n                            style_str += suffix + (this.sliders[i][0]);\r\n\r\n                        } else {\r\n                            if (this.sliders[i][1] > 100) {\r\n                                this.sliders[i][1] = 100;\r\n                            }\r\n                            style_str += suffix + (this.sliders[i][0] + \" \" + this.sliders[i][1] + \"%\");\r\n\r\n                        }\r\n                        suffix = \" , \"; //add , from next iteration\r\n                    }\r\n\r\n                    if (this.type == 'linear') {\r\n                        //direction, [color stoppers]\r\n                        style_str = this.direction + \" , \" + style_str; //add direction for gradient\r\n                    } else {\r\n                        //position, type size, [color stoppers]\r\n                        style_str = this.direction + \" , \" + this.type + \" \" + this.shape + \" , \" + style_str;\r\n                    }\r\n                }\r\n\r\n                return style_str;\r\n            },\r\n            //@input rgb string rgb(<red>,<green>,<blue>)\r\n            //@output rgb object of form { r: <red> , g: <green> , b : <blue>}\r\n            get_rgb_obj: function(rgb) {\r\n\r\n                //rgb(r,g,b)\r\n                rgb = rgb.split(\"(\");\r\n                //r,g,b)\r\n                rgb = rgb[1];\r\n                //r g b)\r\n                rgb = rgb.split(\",\");\r\n\r\n                return {\r\n                    r: parseInt(rgb[0]),\r\n                    g: parseInt(rgb[1]),\r\n                    b: parseInt(rgb[2])\r\n                };\r\n\r\n            },\r\n            load_info: function(ele) {\r\n                var id = \"#\" + ele.id;\r\n                this.current_slider_id = id;\r\n                //check if current clicked element is an slider\r\n                if (this.slider_ids.indexOf(ele.id) > -1) { //javascript does not has # in its id\r\n\r\n                    var color = gradx.gx(id).css(\"backgroundColor\");\r\n                    //but what happens if @color is not in RGB ? :(\r\n                    var rgb = this.get_rgb_obj(color);\r\n\r\n                    var left = gradx.gx(id).css(\"left\");\r\n                    if (parseInt(left) > 26 && parseInt(left) < 426) {\r\n                        gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                                .css(\"left\", left)\r\n                                .show();\r\n\r\n                    } \r\n                    \r\n                    this.set_colorpicker(rgb);\r\n                    console.log(rgb);\r\n                }\r\n\r\n            },\r\n            //add slider\r\n            add_slider: function(sliders) {\r\n\r\n\r\n                var id, slider, k, position, value, delta;\r\n\r\n\r\n                if (sliders.length === 0) {\r\n                    sliders = [//default sliders\r\n                        {\r\n                            color: gradx.get_random_rgb(),\r\n                            position: gradx.get_random_position() //x percent of gradient panel(400px)\r\n                        },\r\n                        {\r\n                            color: gradx.get_random_rgb(),\r\n                            position: gradx.get_random_position()\r\n                        }\r\n                    ];\r\n\r\n                }\r\n\r\n\r\n                var obj = sliders;\r\n\r\n                for (k in obj) {\r\n\r\n                    if (typeof obj[k].position === \"undefined\")\r\n                        break;\r\n\r\n                    //convert % to px based on containers width\r\n                    var delta = 26; //range: 26px tp 426px\r\n                    position = parseInt((obj[k].position * this.container_width) / 100) + delta + \"px\";\r\n\r\n                    id = \"gradx_slider_\" + (this.slider_index); //create an id for this slider\r\n                    this.sliders.push(\r\n                            [\r\n                                obj[k].color,\r\n                                obj[k].position\r\n                            ]\r\n                            );\r\n\r\n                    this.slider_ids.push(id); //for reference wrt to id\r\n\r\n                    slider = \"<div class='gradx_slider' id='\" + id + \"'></div>\";\r\n                    gradx.gx(\"#gradx_start_sliders_\" + this.id).append(slider);\r\n\r\n                    gradx.gx('#' + id).css(\"backgroundColor\", obj[k].color).css(\"left\", position);\r\n                    this.slider_index++;\r\n                }\r\n\r\n                for (var i = 0, len = this.slider_ids.length; i < len; i++) {\r\n\r\n                    gradx.gx('#' + this.slider_ids[i]).draggable({\r\n                        containment: 'parent',\r\n                        axis: 'x',\r\n                        start: function() {\r\n                            if (gradx.jQ_present)\r\n                                gradx.current_slider_id = \"#\" + gradx.gx(this).attr(\"id\"); //got full jQuery power here !\r\n                        },\r\n                        drag: function() {\r\n\r\n                            gradx.update_style_array();\r\n                            gradx.apply_style(gradx.panel, gradx.get_style_value());\r\n                            var left = gradx.gx(gradx.current_slider_id).css(\"left\");\r\n\r\n\r\n                            if (parseInt(left) > 26 && parseInt(left) < 426) {\r\n                                gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                                        .css(\"left\", left)\r\n                                        .show();\r\n\r\n                            } /*else {\r\n                             if (parseInt(left) > 120) {\r\n                             left = \"272px\";\r\n                             } else {\r\n                             left = \"120px\";\r\n                             }\r\n                             \r\n                             gradx.gx(\"#gradx_slider_info\") //info element cached before\r\n                             .css(\"left\", left)\r\n                             .show();\r\n                             \r\n                             }*/\r\n                            var color = gradx.gx(gradx.current_slider_id).css(\"backgroundColor\");\r\n                            //but what happens if @color is not in RGB ? :(\r\n                            var rgb = gradx.get_rgb_obj(color);\r\n                            gradx.cp.colorPicker(\"set\", rgb);\r\n\r\n                        }\r\n\r\n                    }).click(function() {\r\n                        gradx.load_info(this);\r\n                        return false;\r\n                    });\r\n                }\r\n\r\n\r\n            },\r\n            set_colorpicker: function(clr) {\r\n                gradx.cp.colorPicker({\r\n                    move: function(color) {\r\n                        if (gradx.current_slider_id != false) {\r\n                            var rgba = color.toRgbString();\r\n                            gradx.gx(gradx.current_slider_id).css('background-color', rgba);\r\n                            gradx.update_style_array();\r\n                            gradx.apply_style(gradx.panel, gradx.get_style_value());\r\n                        }\r\n                    },\r\n                    change: function() {\r\n                        gradx.gx(\"#gradx_slider_info\").hide();\r\n                    },\r\n                    flat: true,\r\n                    showAlpha: true,\r\n                    color: clr,\r\n                    clickoutFiresChange: true,\r\n                    showInput: true,\r\n                    showButtons: false\r\n\r\n                });\r\n            },\r\n            generate_options: function(options) {\r\n\r\n                var len = options.length,\r\n                        name, state,\r\n                        str = '';\r\n\r\n                for (var i = 0; i < len; i++) {\r\n\r\n                    name = options[i].split(\" \");\r\n\r\n                    name = name[0];\r\n\r\n                    if (i < 2) {\r\n                        state = name[1];\r\n                    } else {\r\n                        state = '';\r\n                    }\r\n\r\n                    name = name.replace(\"-\", \" \");\r\n\r\n                    str += '<option value=' + options[i] + ' ' + state + '>' + name + '</option>';\r\n\r\n                }\r\n\r\n                return str;\r\n            },\r\n            generate_radial_options: function() {\r\n\r\n                var options;\r\n                options = [\"horizontal-center disabled\", \"center selected\", \"left\", \"right\"];\r\n                gradx.gx('#gradx_gradient_subtype').html(gradx.generate_options(options));\r\n\r\n                options = [\"vertical-center disabled\", \"center selected\", \"top\", \"bottom\"];\r\n                gradx.gx('#gradx_gradient_subtype2').html(gradx.generate_options(options)).show();\r\n\r\n            },\r\n            generate_linear_options: function() {\r\n\r\n                var options;\r\n                options = [\"horizontal-center disabled\", \"left selected\", \"right\", \"top\", \"bottom\"];\r\n                gradx.gx('#gradx_gradient_subtype').html(gradx.generate_options(options));\r\n\r\n                gradx.gx('#gradx_gradient_subtype2').hide();\r\n\r\n            },\r\n            destroy: function() {\r\n                var options = {\r\n                    targets: [], //[element selector] -> array\r\n                    sliders: [],\r\n                    direction: 'left',\r\n                    //if linear left | top | right | bottom\r\n                    //if radial left | center | right , top | center | bottom \r\n                    type: 'linear', //linear | circle | ellipse\r\n                    code_shown: false, //false | true\r\n                    change: function(sliders, styles) {\r\n                        //nothing to do here by default\r\n                    }\r\n                };\r\n\r\n                for (var k in options) {\r\n                    gradx[k] = options[k];\r\n                }\r\n            },\r\n            load_gradx: function(id, sliders) {\r\n                this.me = gradx.gx(id);\r\n                this.id = id.replace(\"#\", \"\");\r\n                id = this.id;\r\n                this.current_slider_id = false;\r\n                var html = \"<div class='gradx'>\\n\\\r\n                            <div id='gradx_add_slider' class='gradx_add_slider gradx_btn'><i class='icon icon-add'></i>add</div>\\n\\\r\n                            <div class='gradx_slectboxes'>\\n\\\r\n                            <select id='gradx_gradient_type' class='gradx_gradient_type'>\\n\\\r\n                                <option value='linear'>Linear</option>\\n\\\r\n                                <option value='circle'>Radial - Circle</option>\\n\\\r\n                                <option value='ellipse'>Radial - Ellipse</option>\\n\\\r\n                            </select>\\n\\\r\n                            <select id='gradx_gradient_subtype' class='gradx_gradient_type'>\\n\\\r\n                                <option id='gradx_gradient_subtype_desc' value='gradient-direction' disabled>gradient direction</option>\\n\\\r\n                                <option value='left' selected>Left</option>\\n\\\r\n                                <option value='right'>Right</option>\\n\\\r\n                                <option value='top'>Top</option>\\n\\\r\n                                <option value='bottom'>Bottom</option>\\n\\\r\n                            </select>\\n\\\r\n                            <select id='gradx_gradient_subtype2' class='gradx_gradient_type gradx_hide'>\\n\\\r\n                            </select>\\n\\\r\n                            <select id='gradx_radial_gradient_size' class='gradx_gradient_type gradx_hide'>\\n\\\r\n                            </select>\\n\\\r\n                            </div>\\n\\\r\n                            <div class='gradx_container' id='gradx_\" + id + \"'>\\n\\\r\n                                <div id='gradx_stop_sliders_\" + id + \"'></div>\\n\\\r\n                                <div class='gradx_panel' id='gradx_panel_\" + id + \"'></div>\\n\\\r\n                                <div class='gradx_start_sliders' id='gradx_start_sliders_\" + id + \"'>\\n\\\r\n                                    <div class='cp-default' id='gradx_slider_info'>\\n\\\r\n                                        <div id='gradx_slider_controls'>\\n\\\r\n                                            <div id='gradx_delete_slider' class='gradx_btn'><i class='icon icon-remove'></i>delete</div>\\n\\\r\n                                        </div>\\n\\\r\n                                        <div id='gradx_slider_content'></div>\\n\\\r\n                                    </div> \\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div id='gradx_show_code' class='gradx_show_code gradx_btn'><i class='icon icon-file-css'></i><span>show the code</span></div>\\n\\\r\n                            <div id='gradx_show_presets' style='display:none' class='gradx_show_presets gradx_btn'><i class='icon icon-preset'></i><span>show presets</span></div>\\n\\\r\n                            <textarea class='gradx_code' id='gradx_code'></textarea>\\n\\\r\n                        </div>\";\r\n\r\n                this.me.html(html);\r\n\r\n\r\n                //generates html to select the different gradient sizes\r\n                // *only available for radial gradients\r\n                var gradient_size_val = [\"gradient-size disabled\", \"closest-side selected\", \"closest-corner\", \"farthest-side\", \"farthest-corner\", \"contain\", \"cover\"],\r\n                        option_str = '';\r\n\r\n\r\n                option_str = gradx.generate_options(gradient_size_val);\r\n\r\n                gradx.gx('#gradx_radial_gradient_size').html(option_str);\r\n\r\n\r\n                //cache divs for fast reference\r\n\r\n                this.container = gradx.gx(\"#gradx_\" + id);\r\n                this.panel = gradx.gx(\"#gradx_panel_\" + id);\r\n                //.hide();\r\n                //this.info.hide();\r\n                this.container_width = 400 //HARDCODE;\r\n                this.add_slider(sliders);\r\n\r\n\r\n                gradx.add_event(document, 'click', function() {\r\n    //            if(!gradx.jQ_present){\r\n                    if (!gradx.slider_hovered[id]) {\r\n                        gradx.gx(\"#gradx_slider_info\").hide();\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n\r\n\r\n                gradx.gx('#gradx_add_slider').click(function() {\r\n                    gradx.add_slider([\r\n                        {\r\n                            color: gradx.get_random_rgb(),\r\n                            position: gradx.get_random_position() //no % symbol\r\n                        }\r\n                    ]);\r\n                    gradx.update_style_array();\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n\r\n                });\r\n\r\n                //cache the element\r\n                gradx.cp = gradx.gx('#gradx_slider_content');\r\n\r\n                //call the colorpicker plugin\r\n                gradx.set_colorpicker(\"blue\");\r\n\r\n                gradx.gx('#gradx_delete_slider').click(function() {\r\n                    gradx.gx(gradx.current_slider_id).remove();\r\n                    gradx.gx(\"#gradx_slider_info\").hide();\r\n                    var id = gradx.current_slider_id.replace(\"#\", \"\");\r\n\r\n                    //remove all references from array for current deleted slider\r\n\r\n                    for (var i = 0; i < gradx.slider_ids.length; i++) {\r\n                        if (gradx.slider_ids[i] == id) {\r\n                            gradx.slider_ids.splice(i, 1);\r\n                        }\r\n                    }\r\n\r\n                    //apply modified style after removing the slider\r\n                    gradx.update_style_array();\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());\r\n\r\n                    gradx.current_slider_id = false; //no slider is selected\r\n\r\n                });\r\n\r\n                gradx.gx('#gradx_code').focus(function() {\r\n                    var $this = gradx.gx(this);\r\n                    $this.select();\r\n\r\n                    // Work around Chrome's little problem\r\n                    $this.mouseup(function() {\r\n                        // Prevent further mouseup intervention\r\n                        $this.unbind(\"mouseup\");\r\n                        return false;\r\n                    });\r\n                });\r\n\r\n                gradx.gx('#gradx_gradient_type').change(function() {\r\n\r\n                    var type = gradx.gx(this).val(), options, option_str = '';\r\n\r\n                    if (type !== \"linear\") {\r\n                        //gradx.gx('#gradx_radial_gradient_size').show();\r\n\r\n                        gradx.generate_radial_options();\r\n                    } else {\r\n\r\n                        gradx.generate_linear_options();\r\n                        gradx.gx('#gradx_gradient_subtype').val(\"left\");\r\n                    }\r\n\r\n                    gradx.type = type;\r\n                    gradx.direction = gradx.gx('#gradx_gradient_subtype').val();\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n                });\r\n\r\n                //change type onload userdefined\r\n                if (this.type !== \"linear\") {\r\n                    gradx.gx('#gradx_gradient_type').val(this.type);\r\n                    gradx.generate_radial_options();\r\n\r\n                    var h, v;\r\n\r\n                    if (this.direction !== 'left') {\r\n                        //user has passed his own direction\r\n                        var center;\r\n                        if (this.direction.indexOf(\",\") > -1) {\r\n                            center = this.direction.split(\",\");\r\n                        } else {\r\n                            //tolerate user mistakes\r\n                            center = this.direction.split(\" \");\r\n                        }\r\n\r\n                        h = center[0];\r\n                        v = center[1];\r\n\r\n                        //update the center points in the corr. select boxes\r\n                        gradx.gx('#gradx_gradient_subtype').val(h);\r\n                        gradx.gx('#gradx_gradient_subtype2').val(v);\r\n                    } else {\r\n                        var h = gradx.gx('#gradx_gradient_subtype').val();\r\n                        var v = gradx.gx('#gradx_gradient_subtype2').val();\r\n                    }\r\n\r\n                    gradx.direction = h + \" \" + v;\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n                } else {\r\n\r\n                    //change direction if not left\r\n                    if (this.direction !== 'left') {\r\n                        gradx.gx('#gradx_gradient_subtype').val(this.direction);\r\n                    }\r\n                }\r\n\r\n                gradx.gx('#gradx_gradient_subtype').change(function() {\r\n\r\n                    if (gradx.type === 'linear') {\r\n                        gradx.direction = gradx.gx(this).val();\r\n                    } else {\r\n                        var h = gradx.gx(this).val();\r\n                        var v = gradx.gx('#gradx_gradient_subtype2').val();\r\n                        gradx.direction = h + \" \" + v;\r\n                    }\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n\r\n                });\r\n\r\n                gradx.gx('#gradx_gradient_subtype2').change(function() {\r\n\r\n                    var h = gradx.gx('#gradx_gradient_subtype').val();\r\n                    var v = gradx.gx(this).val();\r\n                    gradx.direction = h + \" \" + v;\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n\r\n                });\r\n\r\n                //not visible\r\n                gradx.gx('#gradx_radial_gradient_size').change(function() {\r\n                    gradx.shape = gradx.gx(this).val();\r\n                    gradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\r\n\r\n                });\r\n\r\n                gradx.gx('#gradx_show_code').click(function() {\r\n\r\n                    if (gradx.code_shown) {\r\n                        //hide it\r\n\r\n                        gradx.code_shown = false;\r\n                        gradx.gx('#gradx_show_code span').text(\"show the code\");\r\n                        gradx.gx(\"#gradx_code\").hide();\r\n                    }\r\n                    else {\r\n                        //show it\r\n\r\n                        gradx.gx('#gradx_show_code span').text(\"hide the code\");\r\n                        gradx.gx(\"#gradx_code\").show();\r\n                        gradx.code_shown = true;\r\n                    }\r\n                });\r\n\r\n                //show or hide onload\r\n                if (gradx.code_shown) {\r\n                    //show it\r\n\r\n                    gradx.gx('#gradx_show_code span').text(\"hide the code\");\r\n                    gradx.gx(\"#gradx_code\").show();\r\n\r\n                }\r\n\r\n                gradx.add_event(document.getElementById('gradx_slider_info'), 'mouseout', function() {\r\n                    gradx.slider_hovered[id] = false;\r\n                });\r\n                gradx.add_event(document.getElementById('gradx_slider_info'), 'mouseover', function() {\r\n                    gradx.slider_hovered[id] = true;\r\n\r\n                });\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n        };\r\n\r\n\r\n\r\n        function  add_event(element, event, event_function)\r\n        {\r\n            if (element.attachEvent) //Internet Explorer\r\n                element.attachEvent(\"on\" + event, function() {\r\n                    event_function.call(element);\r\n                });\r\n            else if (element.addEventListener) //Firefox & company\r\n                element.addEventListener(event, event_function, false); //don't need the 'call' trick because in FF everything already works in the right way\r\n        }\r\n        ;\r\n\r\n\r\n\r\n        //load jQuery library into gradx.gx\r\n        gradx.load_jQ();\r\n\r\n\r\n        /* merge _options into options */\r\n        langx.mixin(options, _options);\r\n\r\n        //apply options to gradx object\r\n\r\n        for (var k in options) {\r\n\r\n            //load the options into gradx object\r\n            gradx[k] = options[k];\r\n\r\n        }\r\n\r\n        gradx.load_gradx(id, gradx.sliders);\r\n        gradx.apply_default_styles();\r\n\r\n\r\n    };\r\n\r\n    return gradX;\r\n});\ndefine('skylark-ui-gradienter/main',[\r\n    \"./Gradienter\",\r\n], function(Gradienter) {\r\n    return Gradienter;\r\n});\r\n\ndefine('skylark-ui-gradienter', ['skylark-ui-gradienter/main'], function (main) { return main; });\n\n"]}